# IGimages
IG圖片下載<br/>
使用selenium<br/>
解析網頁構造時發現,IG這個動態加載的方式又跟其它的不一樣<br/>
之前網頁加載時的做法是等它加載時利用模擬滾動頁面到該頁面的最後一列,然後迴圈讓它全部加載完畢後,再一次寫資料或下載圖片,<br/>
但是IG的動態加載的效果是它第一次進頁面時加載8row,每個row3張圖,然後滾動到最後一列再一次加載,這次新增6row變成14row,再一次滾動到最後一列再一次加載<br/>
結果還是14列,也就是說它把前面加載過的元素給刪了,所以若照以前的做法等它全部加載完畢,仍然只有最後的14row,真麻煩,所以要改變做法<br/>
第一次加載時就記錄並下載圖片,每次加載時就判斷之前的元素是否有出現過(以圖片id來判斷),有出現過的就不再處理,這裡用python提供的set()方法滿好用的,可參考
https://blog.51cto.com/10616534/1944841<br/>
本次將資料下載到mongodb,若以後要再下載新增加的圖片可從db的資料來判斷是否有新增圖片,以節省時間<br/>
另外,下載圖片太多次會被主機擋下,所以要有user-agent代理池,隨機讀取
